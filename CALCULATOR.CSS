:root{
  --bg: #0f1724;
  --panel: #0b1220;
  --muted: #9aa6bf;
  --accent: #60a5fa;
  --accent-2: #7dd3fc;
  --glass: rgba(255,255,255,0.04);
  --success: #a8ffbf;
  --danger: #ffb3b3;
  --radius: 12px;
  --shadow: 0 8px 30px rgba(2,6,23,0.6);
  --text: #e6eef8;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
body{background:linear-gradient(180deg,#081024 0%, #0b1220 100%);color:var(--text);display:flex;align-items:center;justify-content:center;padding:24px}
.app{display:grid;grid-template-columns: 1fr 340px;gap:20px;width:100%;max-width:1100px}

/* Topbar */
.topbar{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.topbar h1{font-size:20px;margin:0;color:var(--accent)}
.controls{display:flex;gap:8px}
.controls button{background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:var(--text);padding:8px 10px;border-radius:8px;cursor:pointer}

/* Calculator panel */
.calculator{background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));padding:18px;border-radius:var(--radius);box-shadow:var(--shadow)}
.display{background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(255,255,255,0.02));padding:12px;border-radius:10px;min-height:86px;display:flex;flex-direction:column;justify-content:center;align-items:flex-end;gap:8px;border:1px solid rgba(255,255,255,0.03)}
.expression{font-size:14px;color:var(--muted);min-height:18px;word-break:break-all}
.output{font-size:28px;font-weight:700;color:var(--text);min-height:32px}

/* Keypad */
.keypad{margin-top:14px;display:flex;flex-direction:column;gap:8px}
.row{display:flex;gap:8px}
.btn{flex:1;padding:12px;border-radius:10px;background:var(--glass);border:1px solid rgba(255,255,255,0.03);color:var(--text);cursor:pointer;font-weight:600;transition:transform .08s, background .12s}
.btn:active{transform:translateY(1px)}
.btn.small{flex:0 0 60px;padding:10px;font-size:13px}
.btn.op{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#022;box-shadow:0 6px 18px rgba(96,165,250,0.12)}
.btn.egal{flex:1;background:#10b981;color:#022}
.btn.func{background:rgba(255,255,255,0.03)}
.btn.paren{background:rgba(255,255,255,0.02)}

/* Sidebar */
.sidebar{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:var(--radius);height:100%}
.sidebar h2{margin-top:0;color:var(--accent)}
.history-list{list-style:none;padding:0;margin:8px 0;max-height:420px;overflow:auto}
.history-list li{padding:10px;border-radius:8px;margin-bottom:8px;background:rgba(255,255,255,0.02);cursor:pointer}
.history-list li small{display:block;color:var(--muted);font-size:12px;margin-top:6px}

/* Info */
.info{margin-top:10px;color:var(--muted);font-size:13px}

/* Responsive */
@media (max-width:940px){
  .app{grid-template-columns:1fr;gap:12px}
  .sidebar{order:3}
}

/* Light theme override (opt-in JS toggles .light on body) */
body.light{
  --bg:#f5f7fb;--panel:#ffffff;--muted:#667085;--accent:#0ea5e9;--accent-2:#06b6d4;--glass:rgba(6,182,212,0.03);--text:#0b1220;--shadow:0 6px 20px rgba(2,6,23,0.06)
}
